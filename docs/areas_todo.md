# Areas TODO (A01 Zone Shaping + Overworld Integration)

This is the work queue for turning zone beats + protoadventures into draftable "area shape" YAML files under `world/zones/`.

Read the process first:

- `docs/area_iteration.md`

Authoritative overworld spec:

- `docs/overworld_cartesian_layout.md`

## Status Legend

Proto maturity:

- `needs_proto`: missing cluster coverage; write/adjust protoadventures to cover missing clusters
- `proto_ready`: clusters covered by existing protoadventures (safe to start shaping)

Zone shaping:

- `stub`: zone YAML exists and passes `just areas-validate`
- `shaped`: zone YAML includes planning hints (`cluster_edges`, `key_rooms`, `notes`, `hubs`)

Area files (room graphs):

- `area_none`: no `world/areas/<zone_id>.yaml` yet
- `area_drafted`: area file exists (room graph drafted)
- `area_validated`: area file passes `just area-files-validate`

## How To Claim Work (Parallel-Safe)

Don't claim by editing this doc.

Claim by taking a local lock for the zone:

- `just area-lock <zone_id> <claimed_by>`

Lock files live in `locks/areas/` and should not be committed.

## Fast Checks (No Guessing)

- Proto coverage vs official zone beats: `just proto-coverage`
- Overworld + zone shape validity: `just world-validate`
- Refresh derived `protoadventures:` lists inside zone stubs: `just zones-annotate-proto` (or `just zones-annotate-proto <zone_id>`)

## A01 Zones

Each zone entry includes:

- expected portals (from `docs/overworld_cartesian_layout.md`)
- proto maturity (based on cluster coverage in `docs/zone_beats.md`)
- shaping status
- the next best action

Generated baseline:

- Stub zone shape files exist for every A01 zone at `world/zones/*.yaml` (generated by `just zones-stubgen` / `python3 scripts/zone_shape_stubgen.py`).
- Zone stubs are annotated with `protoadventures:` based on cluster overlap (refresh via `just zones-annotate-proto`).

| zone_id | zone | portals | proto | shape | area | missing (clusters) | next action |
| --- | --- | --- | --- | --- | --- | --- | --- |
| `newbie_school` | Newbie School | `P_NS_TOWN` | `proto_ready` | `shaped` | `area_validated` |  | iterate room text + quest wiring; then translate Town |
| `town_gaia_gate` | Town: Gaia Gate | `P_TOWN_NS`, `P_TOWN_MEADOW`, `P_TOWN_ORCHARD`, `P_TOWN_SEWERS` | `proto_ready` | `shaped` | `area_none` |  | translate Q1/Q2/Q3 + Alley Fence into room graphs |
| `meadowline` | Meadowline | `P_MEADOW_TOWN`, `P_MEADOW_SEWERS` | `proto_ready` | `shaped` | `area_none` |  | translate Meadow contract loop from Q2 into room graphs |
| `scrap_orchard` | Scrap Orchard | `P_ORCHARD_TOWN`, `P_ORCHARD_SEWERS` | `proto_ready` | `shaped` | `area_none` |  | translate Orchard contract loop from Q2 into room graphs |
| `under_town_sewers` | Under-Town Sewers | `P_SEWERS_TOWN`, `P_SEWERS_MEADOW`, `P_SEWERS_ORCHARD`, `P_SEWERS_QUARRY` | `proto_ready` | `shaped` | `area_none` |  | translate Q3 + optional wing into room graphs |
| `quarry` | Quarry | `P_QUARRY_SEWERS`, `P_QUARRY_CHECKPOINT`, `P_QUARRY_HILLFORT` | `proto_ready` | `shaped` | `area_none` |  | translate Q4 + night shift event into room graphs |
| `old_road_checkpoint` | Old Road Checkpoint | `P_CHECKPOINT_QUARRY`, `P_CHECKPOINT_HILLFORT`, `P_CHECKPOINT_RAIL`, `P_CHECKPOINT_RUSTWOOD` | `proto_ready` | `shaped` | `area_none` |  | translate checkpoint gatehouse + road spike from Q4 into room graphs |
| `hillfort_ruins` | Hillfort Ruins | `P_HILLFORT_QUARRY`, `P_HILLFORT_CHECKPOINT` | `proto_ready` | `shaped` | `area_none` |  | translate Q6 into room graphs |
| `rail_spur` | Rail Spur | `P_RAIL_CHECKPOINT` | `proto_ready` | `shaped` | `area_none` |  | translate rail terminal + event into room graphs |
| `rustwood` | Rustwood | `P_RUSTWOOD_CHECKPOINT`, `P_RUSTWOOD_LIBRARY` | `proto_ready` | `shaped` | `area_none` |  | translate hunt loop + Q5 connective run into room graphs |
| `sunken_library` | Sunken Library | `P_LIB_RUSTWOOD`, `P_LIB_FACTORY`, `P_LIB_RESERVOIR` | `proto_ready` | `shaped` | `area_none` |  | translate Q5 + misfiled wing into room graphs |
| `factory_district_outskirts` | Factory District (Outskirts) | `P_FACTORY_LIBRARY`, `P_FACTORY_RESERVOIR`, `P_FACTORY_UNDERRAIL` | `proto_ready` | `shaped` | `area_none` |  | translate Q7 into room graphs |
| `the_reservoir` | The Reservoir | `P_RESERVOIR_LIBRARY`, `P_RESERVOIR_FACTORY`, `P_RESERVOIR_UNDERRAIL` | `proto_ready` | `shaped` | `area_none` |  | translate Q8 into room graphs |
| `the_underrail` | The Underrail | `P_UNDERRAIL_FACTORY`, `P_UNDERRAIL_RESERVOIR`, `P_UNDERRAIL_SKYBRIDGE` | `proto_ready` | `shaped` | `area_none` |  | translate Q9 into room graphs |
| `skybridge` | Skybridge | `P_SKYBRIDGE_UNDERRAIL`, `P_SKYBRIDGE_WASTES` | `proto_ready` | `shaped` | `area_none` |  | translate Q10 into room graphs |
| `glass_wastes` | Glass Wastes | `P_WASTES_SKYBRIDGE`, `P_WASTES_GARDENS` | `proto_ready` | `shaped` | `area_none` |  | translate Q11 into room graphs |
| `crater_gardens` | Crater Gardens | `P_GARDENS_WASTES`, `P_GARDENS_CORE` | `proto_ready` | `shaped` | `area_none` |  | translate Q12 into room graphs |
| `the_core` | The Core | `P_CORE_GARDENS`, `P_CORE_SEAM` | `proto_ready` | `shaped` | `area_none` |  | translate Q13 into room graphs |
| `the_seam` | The Seam | `P_SEAM_CORE` | `proto_ready` | `shaped` | `area_none` |  | translate Q14 into room graphs |
